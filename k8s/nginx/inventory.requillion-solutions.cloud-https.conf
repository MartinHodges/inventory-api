server {
       listen 443 ssl http2;
       server_name inventory.requillion-solutions.cloud;

       client_max_body_size 50m;

       access_log /var/log/nginx/inventory-access.log;
       error_log /var/log/nginx/inventory-debug.log debug;

       root /var/www/html;

       index index.html index.htm index.nginx-debian.html;

       # SSE endpoint - disable buffering for realtime updates
       location ~ ^/api/secure/inventories/[^/]+/events$ {
         proxy_pass http://kates.home.b30;
         include proxy_params;

         proxy_buffering off;
         proxy_cache off;
         proxy_http_version 1.1;
         proxy_set_header Connection '';
         proxy_read_timeout 3600s;
         proxy_send_timeout 3600s;
       }

       location / {
         proxy_pass http://kates.home.b30/;
         include proxy_params;
       }

       ssl_certificate /etc/letsencrypt/live/inventory.requillion-solutions.cloud/fullchain.pem;
       ssl_certificate_key /etc/letsencrypt/live/inventory.requillion-solutions.cloud/privkey.pem;
}